!<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="style/style.css">

    <title>Train Schedule</title>
  </head>
  <body>
    <div class = "container">

    <div class="jumbotron bg-success text-white">
            <h1 class="display-4 text-center">Welcome To The Crazy Train!</h1><br>
            <p class="lead text-center">Join me as I go off the rails on a crazy train!</p>
    </div>


    <div class="card">
            <div class="card-header bg-success text-white font-weight-bold">
              Current Crazy Train Schedule
            </div>
            <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">Train Name</th>
                        <th scope="col">Destination</th>
                        <th scope="col">Frequecy (min)</th>
                        <th scope="col">Next Arrival</th>
                        <th scope="col">Mins Away</th>
                      </tr>
                    </thead>
                    <tbody id="details">

                    </tbody>
                  </table>

    </div>
    <div class="card mt-4">
            <div class="card-header bg-success text-white font-weight-bold">
              Add a Crazy Train
            </div>
            <form>
                    <div class="form-group font-weight-bold pl-3 pr-3">
                      <label for="formGroupExampleInput">Train Name</label>
                      <input type="text" class="form-control" id="train-name" placeholder="Text Here">
                    </div>
                    <div class="form-group font-weight-bold p-3">
                      <label for="formGroupExampleInput2">Destination</label>
                      <input type="text" class="form-control" id="destination" placeholder="Text Here">
                    </div>
                    <div class="form-group font-weight-bold p-3">
                            <label for="formGroupExampleInput2">First Train Time </label>
                            <input type="text" class="form-control" id="first-train-time" placeholder="Text Here">
                    </div>
                    <div class="form-group font-weight-bold p-3">
                        <label for="formGroupExampleInput2">Frequency (min)</label>
                        <input type="text" class="form-control" id="frequency" placeholder="Text Here">
                    </div>
                    <button class="btn btn-primary ml-3" id="submit" type="submit">Submit</button>
                  </form>


    </div>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://www.gstatic.com/firebasejs/6.6.0/firebase-app.js"></script>
  <!-- Specific Firebase products we want (Database) -->
    <script src="https://www.gstatic.com/firebasejs/6.6.0/firebase-database.js"></script>
  
    <script>

      var firebaseConfig = {
  apiKey: "AIzaSyB6h45dkNSs8PAiSdrdGku0lEK_JL_nCwo",
  authDomain: "ap-cbc-activities.firebaseapp.com",
  databaseURL: "https://ap-cbc-activities.firebaseio.com",
  projectId: "ap-cbc-activities",
  storageBucket: "",
  messagingSenderId: "702662169387",
  appId: "1:702662169387:web:7bd3a4d534c9eee66dab6e"
};

console.log(firebaseConfig);
// Initialize Firebase
firebase.initializeApp(firebaseConfig);

var database = firebase.database();


$("#submit").on("click", function (event) {
  event.preventDefault();

  var trainName = $("#train-name").val();
  var destination = $("#destination").val();
  var firstTrainTime = $("#first-train-time").val();
  var frequency = $("#frequency").val();

  database.ref().push({
    trainName: trainName,
    destination: destination,
    firstTrainTime: firstTrainTime,
    frequency: frequency,
  });
});

database.ref().on(
  "child_added",
  function (childSnapshot) {


var newRow = $("<tr>");

//insert details here!!!
newRow.append("<td>" + childSnapshot.val().trainName + "<td>");
newRow.append("<td>" + childSnapshot.val().destination + "<td>");
newRow.append("<td>" + childSnapshot.val().frequency + "<td>");
$("#details").append(newRow);
})

  
  </script>

  </body>
</html>